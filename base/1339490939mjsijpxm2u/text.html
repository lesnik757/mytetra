<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Притворяемся XP</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">В: Я, наконец, заполучил почти приличную машину с Ubuntu. Но моя подруга не притронется к компьютеру, если на нем не стоит Windows XP, поэтому пришлось смириться с двойной загрузкой. Я давным-давно читал в Linux Format о «киосках», которые загружаются в Firefox и завершают работу при выходе из браузера. Могу ли я сделать то же самое с виртуальной машиной, и насколько это трудно? </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Решение видится мне таким: моя подруга вводит свои реквизиты в окне GDM (оформленном под XP), a после этого запускается виртуальная Windows, так что на ее рабочем столе не будет ничего от Linux – даже панелей. Компьютер выключается вместе с виртуальной машиной, поскольку объяснить, что «сначала – Windows, потом – Ubuntu» будет трудновато – девушка вечно куда-то спешит. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">tuxmando, с форумов LXF </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">О: Это возможно как с VirtualBox, так и с VMware Workstation. Чтобы проделать все в VirtualBox, сначала создайте виртуальную машину в обычном режиме и убедитесь, что она работает. Потом проверьте, что она запускается из командной строки: </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">VBoxSDL -fullscreen -vm “Имя ВМ”</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Имя виртуальной машины можно взять из списка в графическом интерфейсе VirtualBox – здесь нет необходимости указывать путь. Данная команда должна запустить виртуальную машину Windows XP и вернуться в терминал при закрытии Windows. Теперь нужно заставить ее выполняться автоматически при входе пользователя. </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Первый шаг, если вы еще этого не сделали – это создание пользователя через меню Система &gt; Администрирование &gt; Пользователи и группы. Так как вы запускаете виртуальную машину в полноэкранном режиме, то вам не нужно ничего сверх самого минимального оконного менеджера: тяжеловесы вроде Gnome излишни, особенно когда запущена жадная до памяти Windows. Мой фаворит – EvilWM; его можно установить с помощью Synaptic. Затем создайте в домашнем каталоге пользователя файл .xsession следующего содержания: </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> #!/usr/bin/env bash</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> /usr/bin/evilwm &amp;</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> sleep 3</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> exec VBoxSDL -fullscreen -vm “имя VM”</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Выйдите и введите имя другого пользователя в GDM. Прежде чем набрать пароль, нажмите на меню в нижнем левом углу и вызовите окно выбора сессий. Укажите Xclient Script и нажмите, когда спросят, кнопку Использовать по умолчанию. Теперь всякий раз, когда пользователь войдет в систему, будет запускаться файл .xsession, загружающий VirtualBox в полноэкранном режиме, как если бы вы вошли в Windows. При закрытии Windows, VBoxSDL закончит работу и скрипт .xsession завершится, возвратив вас к экрану входа GDM. МС</p></body></html>