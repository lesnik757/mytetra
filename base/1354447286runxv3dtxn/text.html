<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Droid Sans,Verdana,Trebuchet MS,Georgia,Times New Roman,serif'; font-size:x-large; font-weight:600; color:#222222; background-color:#ffffff;">Передача звука по HDMI на TV в Calculate Media Center</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; font-style:italic; color:#303030;">Добавил(а) </span><a href="http://www.calculate-linux.ru/users/13"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; font-style:italic; color:#995505;">Дмитрий Кобзев</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; font-style:italic; color:#303030;"> </span><a href="http://www.calculate-linux.ru/ru/projects/ru/activity?from=2012-01-28"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; font-style:italic; color:#995505;">9 месяца</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; font-style:italic; color:#303030;"> назад</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><a href="http://www.calculate-linux.ru/blogs/ru/show_by_tag/hdmi"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#995505;">hdmi</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"> </span><a href="http://www.calculate-linux.ru/blogs/ru/show_by_tag/%D0%B7%D0%B2%D1%83%D0%BA"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#995505;">звук</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"> </span><a href="http://www.calculate-linux.ru/blogs/ru/show_by_tag/TV"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#995505;">TV</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"> </span><a href="http://www.calculate-linux.ru/blogs/ru/show_by_tag/CMC"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#995505;">CMC</span></a><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"> </span><a href="http://www.calculate-linux.ru/blogs/ru/show_by_tag/xbmc"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#995505;">xbmc</span></a></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;">ПДУ я уже настроил. Теперь вот очередная возникнувшая проблема это передача звука по hdmi. Я ставил CMC уже на телевизор, все автоматом определилось и проблем с картинкой не было. А вот со звуком все печальнее вышло. И ведь документации нормальной не нашел. Как будто у всех все работает из коробки. Хотя может и работает в какой то сборке бунты с xbmc и унылым питоном 2.4 который хают все разработчики расширений для xbmc. Можно конечно поставить, но вероисповедание не позволит так надругаться над машинкой.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;">Итак для начала проверил что у меня есть в списке звуковых карт в alsamixer по (f6).<br />Увы но у меня там было 3 пункта<br /></span></p>
<p style=" margin-top:15px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;"> (default)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;"> HDA Inte PCH</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;"> enter device name...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"><br />Alsa упорно отказывается показывать hdmi звукашку. Оказалось все гораздо проще и лаконичнее. lsmod показал что все же модуль hdmi(snd_hda_codec_hdmi) подгружен.<br /></span></p>
<p style=" margin-top:15px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">xbmc ~ #lsmod</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_hda_codec_hdmi          23121  1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_hda_codec_realtek       195478 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">i2c_i801                    7958   0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_hda_intel               23089  1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_hda_codec               77084  3 snd_hda_codec_hdmi,snd_hda_codec_realtek,snd_hda_intel</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_hwdep                   5694   1 snd_hda_codec</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_pcm                     69402  5 snd_pcm_oss,snd_hda_codec_hdmi,snd_hda_intel,snd_hda_codec</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">iTCO_wdt                    11629  0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">iTCO_vendor_support         1705   1 iTCO_wdt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">r8169                       47720  0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_timer                   17985  2 snd_seq,snd_pcm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd                         54838  12 snd_seq,snd_seq_device,snd_pcm_oss,snd_mixer_oss,snd_hda_codec_hdmi,snd_hda_codec_realtek,snd_hda_intel,snd_hda_codec,snd_hwdep,snd_pcm,snd_timer</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">mii                         3739   1 r8169</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">snd_page_alloc              6833   2 snd_hda_intel,snd_pcm</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;">По команде<br />xbmc ~ #aplay -l<br /></span></p>
<p style=" margin-top:15px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">**** List of PLAYBACK Hardware Devices ****</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">card 0: PCH [HDA Intel PCH], device 0: ALC892 Analog [ALC892 Analog]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevices: 1/1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevice #0: subdevice #0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">card 0: PCH [HDA Intel PCH], device 1: ALC892 Digital [ALC892 Digital]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevices: 1/1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevice #0: subdevice #0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">card 0: PCH [HDA Intel PCH], device 3: HDMI 0 [HDMI 0]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevices: 1/1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevice #0: subdevice #0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">card 0: PCH [HDA Intel PCH], device 7: HDMI 1 [HDMI 1]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevices: 0/1</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">  Subdevice #0: subdevice #0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;">.... видно что звуковая карта 0, устройство 3 и 7. Теперь нужно определить какой из устройств все же работает. Проверяем:<br /></span></p>
<p style=" margin-top:15px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">xbmc ~ #aplay -D plughw:0,3 /usr/share/sounds/alsa/Front_Center.wav</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"><br />и следовательно<br /></span></p>
<p style=" margin-top:15px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">xbmc ~ #aplay -D plughw:0,7 /usr/share/sounds/alsa/Front_Center.wav</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"><br />У меня звук появился на устройстве 7.<br />После этого создаем файл nano /etc/asound.conf<br />Пихаем в него<br /></span></p>
<p style=" margin-top:15px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">pcm.!default {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">        type hw</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">        card 0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">        device 7</span></p>
<p style=" margin-top:0px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"><br />Где как видно card номер карты (0) и номер устройства (7). После сохраняем файл, перезапускаем для верности alsasound<br /></span></p>
<p style=" margin-top:15px; margin-bottom:15px; margin-left:24px; margin-right:15px; -qt-block-indent:0; text-indent:0px; background-color:#fafafa;"><span style=" font-family:'Droid Sans Mono,Verdana,Tahoma,Arial,monospace'; color:#303030; background-color:#fafafa;">xbmc ~ #/etc/init.d/alsasound restart</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Droid Sans,Verdana,Tahoma,Arial,sans-serif'; color:#303030;"><br />... запускаем xbmc. Если все сделали верно, то при прогулке по менюшкам уже будем слышать звук. Я возрадовался, но не тут то было. В xbmc то звук был, а вот при запуске фильма звука увы не было =(<br />В xbmc по дефолту язык у меня уже русский поэтому.<br />&quot;Система&quot;...&quot;Система&quot;...&quot;Аудиооборудование&quot; и там выставляем формат аудиовыхода hdmi, устройство вывода звука ставим по умолчанию а устройство передачи звука &quot;iec958&quot;. С настройками звука я больше не игрался ибо звук у меня всего равно 2.0. Звук появился profit.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">